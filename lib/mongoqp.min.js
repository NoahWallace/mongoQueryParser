!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(21);!function(){void 0!==e&&e.exports&&"undefined"==typeof window||(window.ParseQuery=o.ParseQuery,window.ParseAggregate=i.ParseAggregate)}(),n(r(1)),n(r(21));var a=r(14);t.typeIs=a.typeIs},function(e,t,r){"use strict";function n(e,t){var r=function(e){return isNaN(Number(e))?null:+e},n={filter:o.qsParser(),limit:r,sort:i.ssParser,skip:r,projection:a.getProjection},s={filter:{}};if("string"==typeof e)s.filter=n.filter(decodeURIComponent(e));else for(var c in e){var l=u.sympatico(c);if(n.hasOwnProperty(l)&&void 0!==e[c]){var p=n[l];s[l]=p(decodeURIComponent(e[c]))}}return t?t(s):s}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(12),a=r(19),u=r(14);t.ParseQuery=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(3))},function(e,t,r){"use strict";function n(){function e(e,r){return e.split(r).map(function(e){return t(e.trim())})}function t(t){var u;return(t=t.replace(/^\((.*)\)$/,"$1"))in r?r[t]:(n.test(t)?(u={},u.$or=e(t,n)):i.test(t)?(u={},u.$and=e(t,i)):a.test(t)?(u={},u.$nor=e(t,a)):u=o.getValueObject(t),r[t]=u,u)}var r={},n=new RegExp(/ OR (?=(?![^(]*\)))/g),i=new RegExp(/ AND (?=(?![^(]*\)))/g),a=new RegExp(/ NOR (?=(?![^(]*\)))/g);return t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4);t.qsParser=n},function(e,t,r){"use strict";function n(e){var t,r=a.setOperator(e),n=i.setKey(e),u={},s=o.setValue(e,r.operator),c=(t={},t[r.operator]=s,t);return n.hasOwnProperty("checkExists")&&(u[n.key]={$exists:n.checkExists}),u[n.key]&&u[n.key].hasOwnProperty("$exists")?u[n.key].$exists&&r.operator&&(r.falsy?u[n.key].$not=c:u[n.key][r.operator]=s):u[n.key]=r.falsy?{$not:c}:c,u}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(10),a=r(11);t.getValueObject=n},function(e,t,r){"use strict";function n(e,t){var r,n=c.arrayFromComma(e);if(["$in","$nin","$mod","$all","$slice"].indexOf(t)>-1)r=[n.length],n.map(function(e,t){r[t]=o(e)});else{if("$elemMatch"==t){var a=c.extractValue(e)[0].trim(),s=u.trimCurlysFromLogicalOps(a);return i.qsParser()(u.trimQuote(s))}var l=c.extractValue(e)[0].trim(),p={true:!0,false:!1};if(r=p[l]||"false"===l?p[l]:o(l),("$gt"===t||"$gte"===t)&&"string"==typeof r&&(!r||r.match(/^\s+$/)))return"~"}return r}function o(e){var t=u.trimQuote(e);if(s.isRegExString(t)){var r=u.getRegExString(t),n=u.getRegExOptions(t);return new RegExp(r,n)}return s.isDateParserString(t)?new Date(u.getDateString(t)):isNaN(Number(e))?t:+e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=r(6),u=a.valuesRegExp.replace,s=a.valuesRegExp.test,c=a.valuesRegExp.match;t.setValue=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(7)),n(r(8)),n(r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operatorsRegExp={regex:{operators:new RegExp(/\s+(not)*\s*(eq|gt|gte|lt|lte|ne|in|nin|is|type|mod|regex|all|size|contains|lookup)\s+/)},test:{hasOperator:function(e){return t.operatorsRegExp.regex.operators.test(e)}},match:{getOperator:function(e){return e.match(t.operatorsRegExp.regex.operators)}},replace:{removeNot:function(e){return e.replace(/^not\s+/i,"")}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valuesRegExp={match:{arrayFromComma:function(e){return e.match(/((\d+)(?=\s*,*\s*)|(('.+?')(?=\s*,\s*)|('.+'$)))/gi)},extractValue:function(e){return e.match(/(('.+')+(,'.+')*|\s{1}\S+$)/i)}},replace:{trimCurlyBraces:function(e){return e.replace(/(^\{|\}$)/g,"")},trimQuote:function(e){return e.replace(/(^'|'$)/g,"")},getRegExString:function(e){return e.replace(/(^\/|\/([gim]*)?$)/g,"")},getRegExOptions:function(e){return e.replace(/(^\/.+\/)(?=[gim]?)/,"")},trimQuoteAndReplaceSlash:function(e){return t.valuesRegExp.replace.trimQuote(e.replace(/\//g,"."))},trimCurlysFromLogicalOps:function(e){return e.replace(/\{(AND|OR|NOR){1}\}/g,function(e){return t.valuesRegExp.replace.trimCurlyBraces(e)})},getDateString:function(e){return e.replace(/^Date\(([0-9:a-zA-Z\-.]*)\)$/,"$1")}},test:{isRegExString:function(e){return/(^\/|\/([gim]*)?$)/g.test(e)},isDateParserString:function(e){return/^Date\(([0-9:a-zA-Z\-.]*)\)$/.test(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keysRegExp={match:{getkey:function(e){return e.match(/(^(\s*!?has\s+)?([^\s]+)|(^\s*[^\s]+))/i)}},replace:{removeHas:function(e){return e.replace(/^(!?has\s+)(?=.+)/,"")}}}},function(e,t,r){"use strict";function n(e){var t={key:null},r=e.match(o.operatorsRegExp.regex.operators),n=i.trimQuoteAndReplaceSlash(e.substring(0,r?r.index:e.length).trim());return n.startsWith("has ")?t.checkExists=!0:n.startsWith("!has ")&&(t.checkExists=!1),t.key=a.removeHas(n).trim(),t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=o.valuesRegExp.replace,a=o.keysRegExp.replace;o.keysRegExp.match;t.setKey=n},function(e,t,r){"use strict";function n(e){var t=a.hasOperator(e)?u.getOperator(e)[0].trim():null,r={falsy:!1,operator:null};return t&&(t.startsWith("not ")&&(r.falsy=!0),r.operator="$"+o(t)),r}function o(e){var t={is:"type",contains:"elemMatch",join:"lookup"};return s.removeNot(t[e]||e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),a=i.operatorsRegExp.test,u=i.operatorsRegExp.match,s=i.operatorsRegExp.replace;t.setOperator=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(13))},function(e,t,r){"use strict";function n(e,t){var r=t?{}:[],n=i.valuesRegExp.replace.trimQuote(e),a=n.split(","),u=!1;return a.map(function(e){var n=e.trim().split(/\s+/),a=i.valuesRegExp.replace.trimQuoteAndReplaceSlash(n[0]);n.length>1?t?r[a]=o.upDown(n[1]):r.push([a,o.upDown(n[1])]):t?r[a]=1:(r.push(a),u=1===n[0].length)}),u?r[0]:r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),i=r(6);t.ssParser=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(15)),n(r(16)),n(r(17)),n(r(18))},function(e,t,r){"use strict";function n(e,t){switch(t.toLowerCase()){case"string":return"string"==typeof e||e instanceof String;case"array":return Array.isArray(e)||e instanceof Array;case"object":return"[object Object]"===Object.prototype.toString.call(e);case"null":return"object"==typeof e&&null===e;case"undefined":return void 0===e;case"function":return"function"==typeof e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"symbol":return"symbol"==typeof e;case"date":return"object"==typeof e&&e instanceof Date;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.typeIs=n},function(e,t,r){"use strict";function n(e){return isNaN(Number(e))?null:+e}Object.defineProperty(t,"__esModule",{value:!0}),t.checkNumber=n},function(e,t,r){"use strict";function n(e){var t;switch(e){case"asc":case"1":case 1:t=1;break;case"desc":case"-1":case-1:t=-1;break;default:t=1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.upDown=n},function(e,t,r){"use strict";function n(e){var t=e.replace(/^\$/,"").toLowerCase();return{true:!0,false:!1,select:"projection",project:"projection",orderby:"sort",top:"limit"}[t]||t}Object.defineProperty(t,"__esModule",{value:!0}),t.sympatico=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.getProjection=n.getProjection},function(e,t,r){"use strict";function n(e){var t={},r=1,n=/^\s*(include|exclude|incl|excl)\s+/i;return n.test(e)&&(/^\s*(exclude|excl)\s+/i.test(e)&&(r=0),e=e.replace(n,"")),e.split(",").forEach(function(e,n,i){if(/ contains /i.test(e)){var a=o.getValueObject(e);for(var u in a)t[u]=a[u]}else{var s=e.split(/\s/),c=s.filter(function(e){return""!==e.trim()}).map(function(e){return e});c.length>1?t[c[0].trim()]=c[1].trim():1===r&&i.length>1&&"_id"===c[0].trim()?t[c[0].trim()]=0:t[c[0].trim()]=r}}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4);t.getProjection=n},function(e,t,r){"use strict";function n(e,t){var r=o.aqParser(),n=e.split(/ THEN /),i=new Array(n.length);return n.forEach(function(e,t){i[t]=r(e)}),t?t(i):i}Object.defineProperty(t,"__esModule",{value:!0});var o=r(22);t.ParseAggregate=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(23))},function(e,t,r){"use strict";function n(){function e(e){var n;if(e in t)return t[e];var o=s.valuesRegExp.match.extractValue(e)[0].trim(),i=s.keysRegExp.match.getkey(e)[0].trim();if(r[i]){n={};var a=r[i];n["$"+i]=a(s.valuesRegExp.replace.trimQuote(o),!0)}return t[e]=n,n}var t={},r={match:o.qsParser(),sort:i.ssParser,project:a.getProjection,limit:u.checkNumber,skip:u.checkNumber,unwind:c.unwindParser,lookup:l.lookupParser};return e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(12),a=r(19),u=r(14),s=r(6),c=r(24),l=r(25);t.aqParser=n},function(e,t,r){"use strict";function n(e){var t=e.split(","),r={path:function(e){return/^\$/.test(e)?e:"$"+e},includeArrayIndex:function(e){return/^\$+/.test(e)?e.replace(/^\$+/,""):e},preserveNullAndEmptyArrays:function(e){return"true"===e}},n={};return t.map(function(e){var t=o.keysRegExp.match.getkey(e)[0].trim(),i=o.valuesRegExp.match.extractValue(e)[0].trim();r.hasOwnProperty(t)&&(n[t]=r[t](i))}),n}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6);t.unwindParser=n},function(e,t,r){"use strict";function n(e){var t=["FROM","WHERE","AS"],r=o.valuesRegExp.replace.trimQuote(e),n="",i={from:"",localField:"",foreignField:"",as:""},a=t.map(function(e){return[r.indexOf(e),e.length,e]});a.sort(function(e,t){return t[0]-e[0]});for(var u=0;u<a.length;u++)if(-1===a[u][0])n+=" Missing "+a[u][2]+" in lookup string;";else{var s=a[u][0],c=a[u][1],l=a[u][2],p=r.slice(s+c),f=void 0;switch(r=r.slice(0,a[u][0]),l){case"WHERE":f=p.split(/(=| eq )/),i.localField=f[0].trim(),i.foreignField=f[2].trim();break;case"FROM":i.from=p.trim();break;case"AS":i.as=p.trim()}}return n||i}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6);t.lookupParser=n}]);